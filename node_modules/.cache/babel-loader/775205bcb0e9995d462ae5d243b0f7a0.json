{"ast":null,"code":"var _jsxFileName = \"/Users/jroseman/play/football/app/src/containers/PlayerDashboardContainer.tsx\";\nimport React, { useState } from 'react';\nimport { PlayerPosition, SeasonSelection } from '../types/PlayerDashboardTypes';\nimport QBDashboardContainer from '../containers/QBDashboardContainer';\nimport RBDashboardContainer from '../containers/RBDashboardContainer';\nimport styles from './PlayerDashboardContainer.module.css';\nimport SeasonSelector from '../components/SeasonSelectorComponent';\nimport PerformanceLineChartComponent from '../components/PerformanceLineChartComponent';\nimport { Collapse } from 'reactstrap';\nconst ONE_SEASON = [2019];\nconst THREE_SEASONS = [2019, 2018, 2017];\nexport default (({\n  player\n}) => {\n  const [playerState, setPlayerState] = useState(player);\n  const [isStatsOpen, setIsStatsOpen] = useState(true);\n  const {\n    firstName,\n    lastName,\n    primaryPosition\n  } = player.demographicData;\n  const oneSeasonGames = player.playerGames.filter(game => ONE_SEASON.includes(game.seasonYear));\n  const threeSeasonGames = player.playerGames.filter(game => THREE_SEASONS.includes(game.seasonYear));\n  const selectionGameMap = {\n    [SeasonSelection.One]: oneSeasonGames,\n    [SeasonSelection.Three]: threeSeasonGames,\n    [SeasonSelection.Lifetime]: player.playerGames\n  };\n\n  const onStateChange = selection => {\n    setPlayerState({ ...playerState,\n      playerGames: selectionGameMap[selection]\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, firstName, \" \", lastName, \" \", primaryPosition, \" Dashboard\"), /*#__PURE__*/React.createElement(SeasonSelector, {\n    onStateChange: onStateChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => setIsStatsOpen(!isStatsOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.generalStatsHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"General Stats\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Collapse, {\n    isOpen: isStatsOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PerformanceLineChartComponent, {\n    data: formatGamesForPerfLineChart(playerState).data,\n    lines: formatGamesForPerfLineChart(playerState).lines,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }))), renderDashboard(playerState));\n});\n\nfunction renderDashboard(player) {\n  const {\n    primaryPosition\n  } = player.demographicData;\n\n  if (primaryPosition === PlayerPosition.Quarterback) {\n    return /*#__PURE__*/React.createElement(QBDashboardContainer, {\n      player: player,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }\n    });\n  } else if (primaryPosition === PlayerPosition.Runningback) {\n    return /*#__PURE__*/React.createElement(RBDashboardContainer, {\n      player: player,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 12\n      }\n    });\n  }\n}\n\nfunction formatGamesForPerfLineChart({\n  playerGames\n}) {\n  const avgFantasyPoints = playerGames.reduce((a, g) => a + g.fantasyPoints, 0) / playerGames.length;\n  const data = playerGames.map(game => ({\n    fantasyPoints: game.fantasyPoints,\n    avgFantasyPoints\n  }));\n  const dataWithFantasyAvg = data.map(datapoint => ({ ...datapoint,\n    avgFantasyPoints\n  }));\n  const lines = [{\n    dataKey: \"fantasyPoints\",\n    color: \"green\"\n  }, {\n    dataKey: \"avgFantasyPoints\",\n    color: \"orange\"\n  }];\n  return {\n    data: dataWithFantasyAvg,\n    lines\n  };\n}","map":{"version":3,"sources":["/Users/jroseman/play/football/app/src/containers/PlayerDashboardContainer.tsx"],"names":["React","useState","PlayerPosition","SeasonSelection","QBDashboardContainer","RBDashboardContainer","styles","SeasonSelector","PerformanceLineChartComponent","Collapse","ONE_SEASON","THREE_SEASONS","player","playerState","setPlayerState","isStatsOpen","setIsStatsOpen","firstName","lastName","primaryPosition","demographicData","oneSeasonGames","playerGames","filter","game","includes","seasonYear","threeSeasonGames","selectionGameMap","One","Three","Lifetime","onStateChange","selection","header","generalStatsHeader","formatGamesForPerfLineChart","data","lines","renderDashboard","Quarterback","Runningback","avgFantasyPoints","reduce","a","g","fantasyPoints","length","map","dataWithFantasyAvg","datapoint","dataKey","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Player, PlayerPosition, SeasonSelection } from '../types/PlayerDashboardTypes';\nimport QBDashboardContainer from '../containers/QBDashboardContainer';\nimport RBDashboardContainer from '../containers/RBDashboardContainer';\nimport styles from './PlayerDashboardContainer.module.css';\nimport SeasonSelector from '../components/SeasonSelectorComponent';\nimport PerformanceLineChartComponent from '../components/PerformanceLineChartComponent';\nimport { Collapse } from 'reactstrap';\n\ntype PlayerDashboardProps = {\n  player: Player\n}\n\nconst ONE_SEASON = [2019];\nconst THREE_SEASONS = [2019, 2018, 2017];\n\nexport default ({ player }: PlayerDashboardProps) => {\n  const [playerState, setPlayerState] = useState<Player>(player);\n  const [isStatsOpen, setIsStatsOpen] = useState<boolean>(true);\n\n  const { firstName, lastName, primaryPosition } = player.demographicData;\n  const oneSeasonGames = player.playerGames.filter((game) => ONE_SEASON.includes(game.seasonYear));\n  const threeSeasonGames = player.playerGames.filter((game) => THREE_SEASONS.includes(game.seasonYear));\n  const selectionGameMap = {\n    [SeasonSelection.One]: oneSeasonGames,\n    [SeasonSelection.Three]: threeSeasonGames,\n    [SeasonSelection.Lifetime]: player.playerGames\n  };\n\n  const onStateChange = ((selection: SeasonSelection) => {\n    setPlayerState({\n      ...playerState,\n      playerGames: selectionGameMap[selection]\n    } as Player);\n  })\n\n  return (\n    <div>\n      <div className={styles.header}>\n        <h1>{firstName} {lastName} {primaryPosition} Dashboard</h1>\n        <SeasonSelector onStateChange={onStateChange} />\n      </div>\n      <div onClick={() => setIsStatsOpen(!isStatsOpen)}>\n        <div className={styles.generalStatsHeader}>General Stats</div>\n        <hr />\n        <Collapse isOpen={isStatsOpen}>\n          <PerformanceLineChartComponent data={formatGamesForPerfLineChart(playerState).data} lines={formatGamesForPerfLineChart(playerState).lines} />\n        </Collapse>\n      </div>\n      {renderDashboard(playerState)}\n    </div>\n  )\n}\n\nfunction renderDashboard(player: Player) {\n  const { primaryPosition } = player.demographicData;\n  if (primaryPosition === PlayerPosition.Quarterback) {\n    return <QBDashboardContainer player={player} />\n  }\n  else if (primaryPosition === PlayerPosition.Runningback) {\n    return <RBDashboardContainer player={player} />\n  }\n}\n\n\nfunction formatGamesForPerfLineChart({ playerGames }: Player) {\n  const avgFantasyPoints = playerGames.reduce((a, g) => a + g.fantasyPoints, 0) / playerGames.length;\n  const data = playerGames.map((game) => ({\n    fantasyPoints: game.fantasyPoints,\n    avgFantasyPoints\n  }))\n  const dataWithFantasyAvg = data.map((datapoint) => ({\n    ...datapoint,\n    avgFantasyPoints\n  }))\n  const lines = [\n    {\n      dataKey: \"fantasyPoints\",\n      color: \"green\"\n    },\n    {\n      dataKey: \"avgFantasyPoints\",\n      color: \"orange\"\n    }\n  ];\n  return { data: dataWithFantasyAvg, lines }\n}\n"]},"metadata":{},"sourceType":"module"}